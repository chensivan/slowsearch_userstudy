<!DOCTYPE html>
<html>

<head>
    <script data-require="jquery@2.2.0" data-semver="2.2.0" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
    <script src="https://rawgit.com/rzajac/angularjs-slider/master/dist/rzslider.js"></script>
    <script src="https://rawgithub.com/ajaxorg/ace-builds/v1.2.3/src-min-noconflict/ace.js"></script>
    <script src="https://rawgithub.com/angular-ui/ui-ace/bower/ui-ace.min.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.3.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://rawgit.com/rzajac/angularjs-slider/master/dist/rzslider.css" />
    <link data-require="bootstrap-css@3.3.6" data-semver="3.3.6" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="script.js"></script>
</head>

<body>
    <div ng-app="myapp">
        <div ng-controller="TestController">

            <!-- ********* Consent Form ********** -->
            <div ng-show="showConsent">

                <h2>How long are you willing to wait for better answers to a programming task?</h2><br>
                <!-- <p><b>Setup: </b>You will need to use Chrome to participate in this study. You will also need to install an extension on your Chrome for the purpose of enabling <i>slow programming</i> function. </p> -->

                <b>What is this study: </b>
                <p>This study is to investigate the following scenario: Given your experience, if an intelligent system was able to provide the perfect results to programming tasks, how long would you be willing to wait for the system to process your task?</p>

                <b>Why are we doing this research: </b>
                <p>We are trying to understand for different types of programming tasks, how do programmers tradeoff between speed and accuracy. </p>

                <b>What you need to do: </b>
                <p>There are 3 parts in this study: 10 quizzes (part 1), 7 subjective programming tasks (part 2), 7 objective programming tasks (part 3).</p>

                <b>Part 1 (7 min): </b>
                <p>There are 10 Javascript tasks once you go to next page, and all of them are multiple choices. Please do not use other resources (e.g. your browser console) to help you, and your results will not affect later tasks and your incentives. </p>

                <b>Part 2 (13 min): </b>
                <p>There are 7 JavaScript tasks, and we will provide you three answers to each task. These three answers are all correct but in different level of quality (increasing order: basic level -> medium level -> copy and paste level). You will need to drag each given radio button to tell us how long you are willing to wait for each level of answer.</p>

                <b>Part 3 (40 min):</b>
                <p>There are 7 JavaScript tasks, and you need to write code in the given editor to finish the task. You can check whether you have the right answer by clicking the given ‘Run’ button below the editor. System will show you whether your answer is right or not. You need to get the right answer to activate the ‘Next’ button to move on to your next task. </p>

                <b>Benefits of Participation: </b>
                <p>For your participation in this research project, you will $20 right after you finish the study.</p>

                <b>Data Privacy</b>
                <p>We plan to publish the results of this study. We will not include any information that would identify you.  Your privacy will be protected and your research records will be confidential.</p>

                <b>Contact Information:</b>
                <p>If you have questions about this research, you may contact Yan Chen, Sang Won Lee via email: yanchenm@umich.edu, snaglee@umich.edu.</p>
                <p>If you have questions about your rights as a research participant, or wish to obtain information, ask questions or discuss any concerns about this study with someone other than the researcher(s), please contact the:</p>
                <p style="white-space: pre-wrap;">University of Michigan Health Sciences and Behavioral Sciences Institutional Review Board 2800 Plymouth Road
Building 520, Room 1169
Ann Arbor, MI 48109-2800
Phone:  (734) 936-0933 or toll free, (866) 936-0933
Email: irbhsbs@umich.edu
                </p>




                <br>
                <input type="checkbox" style="zoom: 2" ng-click="isToggled()">
                <label>By ticking this box, you are agreeing to be in the study. Be sure that questions you have about the study have been answered and that you understand what you are being asked to do. You may contact the researcher if you think of a question later. You are free to leave the experiment at any time, and refusing to be in the experiment or stopping participation will involve no penalty or loss of benefits to which you are otherwise entitled.

                </label>
                <br>
                <button class="btn btn-xs btn-primary" ng-disabled="disableSubmit" ng-click="submitConsent()">Continue</button>

            </div>

            <!-- ********* Quiz ********** -->

            <div id="knowledgeEva" ng-show="showQuiz">
                Please make sure you <b>select answer in each question</b>, as lack of answer is not checked and counts as failure. Quiz requires Javascript to be enabled. This is not to test your programming skill, but to let us know your background. Please do not use any tools while solving the quiz. You will have the same tasks no matter how you did in this quiz.

                <div ng-repeat="(key,task) in quiz">
                    <h3>Task {{key+1}}</h3>
                    <h3>
                      <pre>{{task.question}}</pre>
                    </h3>
                    <br />
                    <div ng-repeat="option in task.options">
                        <label>
                            <input type="radio" name="{{task.option}}" ng-model="quizAnswer.question[$parent.key]" value="{{option}}" checked="false" /> {{option}}
                        </label>
                    </div>
                </div>
                <!-- <div style="display: inline-block;" uib-tooltip="Make sure you do all the questions before submit!"> -->
                <div style="display: inline-block;">
                  <input type="button" class="btn btn-xs btn-primary" value="Submit" ng-click="submitQuiz()">
                </div>

            </div>


            <!-- ********* Tasks ********** -->

            <div ng-show='subjectiveTaskInstruction' ng-include="'subjectiveTaskInstruction.html'">
            </div>

            <div id="wrapper" ng-if="showWrapper">

                <!-- ********* Subjective Tasks ********** -->

                <div id="task(A)" ng-show="!showSubjectTasks">

                    <div ng-repeat="taskA in taskAs" ng-show="taskA.id == idCounter">
                        <h2>{{taskA.name}} (out of 7)</h2>
                        <pre style="white-space: pre-wrap;">{{taskA.description}}</pre>
                        <p>Please take a look at the following 3 versions of answers. Drag the radio button to tell us: If you are solving this task, how long are you willing to wait for that version of answer.</p>
                    </div>

                    <div id="answer" ng-repeat="answer in answers track by $index">
                      <p>
                        <div ng-repeat="(level, levels_content) in answer.answer" ng-show="level == (idCounter-1)">
                            <h4 ng-show="$parent.$index==0">Basic Level</h4>
                            <h4 ng-show="$parent.$index==1">Psedocode Level</h4>
                            <h4 ng-show="$parent.$index==2">Copy&Paste Answer</h4>
                            <p ng-hide="$parent.$index==2" style="border: 1px solid #000000;word-wrap: break-word;">{{levels_content}}</p>
                            <pre ng-show="$parent.$index==2">{{levels_content}}</pre>

                        </div>
                        <div>
                            <rzslider rz-slider-model="answer.value" rz-slider-options="answer.options" ng-click="isClicked()"></rzslider>
                        </div>
                        <p>Willingness to wait for: {{answer.value}} minutes</p>
                    </div>
                    <br>

                    <div>
                      <button ng-click="submit()" class="btn btn-xs btn-success" ng-disabled="disableSubmit">Submit</button>
                    </div>

                </div>

                <!-- ********* Objective Tasks ********** -->

                <!--  Task Instruction-->
                <div ng-show="showinstruction" ng-include="'taskInstruction.html'">
                </div>

                <div id="task(B)" ng-show="showObjectiveTask">
                    <div ng-repeat="task in tasks" ng-if="task.id == idCounter">
                      <!-- left column -->
                      <div id="col1">
                        <h2>{{task.name}} (out of 7)</h2>
                        <br>
                        <p style="border: 1px solid #000000;word-wrap: break-word;">{{task.description}}</p>
                        <br>

                        <section id="editors">
                            <div class="ace_editor" id='task1' ui-ace="{onLoad:aceLoaded}" ng-model="task.content"></div>
                            <button ng-click="run(task.content,task.correctOutput)" class="btn btn-xs btn-primary" type="button" uib-tooltip="Sometimes you have to click twice to check your answers. All tasks should end up with a console output."> run </button>
                            <div id="output">
                                <h3>Your console.log is displayed below.</h3>

                                <br> {{consoleOutput}}
                            </div>
                            <br> {{msg}}
                        </section>
                      </div>

                      <!-- right column -->

                      <div id="col2">
                        <img style="width:45px; height:45px" src="load.gif" ng-show='loading'>

                        <button ng-show='!slowProgrammingButton' class="btn btn-xs btn-primary" style="float: right" ng-click="slowprogramming()" uib-tooltip="Click this button to see hints or answers. But you need to wait a few minutes."  ng-disabled='levelButton'>{{buttonName}}</button>

                        </br></br>
                        <p ng-show="buttonName=='Psedocode Level'" style="border: 1px solid #000000;word-wrap: break-word;">{{task.basic}}</p>
                        <p ng-show="buttonName=='Copy & Paste Level'" style="border: 1px solid #000000;word-wrap: break-word;">{{task.psedocode}}</p>
                        <pre ng-show="slowProgrammingButton==true">{{task.correct}}</pre>

                      </div>
                    </div>

                    </br></br>
                    <!--   add tooltip-->
                    <!-- <div style="display: inline-block;" uib-tooltip="You can only proceed after getting the correct output!"> -->
                    <div style="position: fixed; right: 100px; bottom: 30px;">
                      <button ng-click="nextTask()" class="btn btn-xs btn-primary" type="button" ng-disabled="disableNext"> Next </button>
                    </div>

                    <!-- <button ng-click="run()" class="btn btn-xs btn-primary pull-right" type="button"> run </button> -->
                </div>

            </div>

            <!-- ********* End of  Tasks / Goodbye page********** -->

            <div ng-show="finalpage">
                <h2> Thank you for your participation! We will compensate you soon. Your confirmation code is: {{confirmation}}. </h2>

            </div>


        </div>
    </div>
</body>

</html>
